import{s as et,d as u,w as tt,I as De,i as ne,b as s,q as Be,l as v,D as le,J as Fe,c as i,e as b,g as T,m as q,h as c,j as Q,k as at,f as A,t as j,n as ae,o as st,v as $e,K as Re,a as re}from"../chunks/DjsGgg0N.js";import{S as lt,i as rt,d as Ge,t as _e,a as ue,e as Ue,m as We,c as Xe,b as Ye,g as Ze}from"../chunks/cWIQy_G5.js";import{e as qe}from"../chunks/BV4LPSyA.js";import{i as we,b as nt}from"../chunks/DcUeqTlN.js";import{g as ot,c as it,s as ct,a as ut,f as Ae,e as Ee,P as vt,h as je}from"../chunks/ChO2LMN6.js";import{f as dt,a as ft}from"../chunks/BKpNHhAM.js";import{B as _t}from"../chunks/CWWdc1ov.js";import{g as ht}from"../chunks/Dfj9RPht.js";function ze(l,e,t){const a=l.slice();return a[16]=e[t],a[18]=t,a}function pt(l){let e;return{c(){e=j("← Back to Dashboard")},l(t){e=A(t,"← Back to Dashboard")},m(t,a){ne(t,e,a)},d(t){t&&u(e)}}}function mt(l){let e,t,a=qe(l[3]),r=[];for(let n=0;n<a.length;n+=1)r[n]=Me(ze(l,a,n));const d=n=>_e(r[n],1,1,()=>{r[n]=null});return{c(){e=c("div");for(let n=0;n<r.length;n+=1)r[n].c();this.h()},l(n){e=i(n,"DIV",{class:!0});var _=b(e);for(let o=0;o<r.length;o+=1)r[o].l(_);_.forEach(u),this.h()},h(){v(e,"class","releases-grid svelte-1a6tat1")},m(n,_){ne(n,e,_);for(let o=0;o<r.length;o+=1)r[o]&&r[o].m(e,null);t=!0},p(n,_){if(_&9){a=qe(n[3]);let o;for(o=0;o<a.length;o+=1){const C=ze(n,a,o);r[o]?(r[o].p(C,_),ue(r[o],1)):(r[o]=Me(C),r[o].c(),ue(r[o],1),r[o].m(e,null))}for(Ze(),o=a.length;o<r.length;o+=1)d(o);Ue()}},i(n){if(!t){for(let _=0;_<a.length;_+=1)ue(r[_]);t=!0}},o(n){r=r.filter(Boolean);for(let _=0;_<r.length;_+=1)_e(r[_]);t=!1},d(n){n&&u(e),st(r,n)}}}function gt(l){let e,t="No release performance data available";return{c(){e=c("div"),e.textContent=t,this.h()},l(a){e=i(a,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-1frtnzf"&&(e.textContent=t),this.h()},h(){v(e,"class","empty-state svelte-1a6tat1")},m(a,r){ne(a,e,r)},p:ae,i:ae,o:ae,d(a){a&&u(e)}}}function bt(l){let e,t="Loading...";return{c(){e=c("div"),e.textContent=t,this.h()},l(a){e=i(a,"DIV",{class:!0,"data-svelte-h":!0}),q(e)!=="svelte-1wfwfdr"&&(e.textContent=t),this.h()},h(){v(e,"class","loading-state svelte-1a6tat1")},m(a,r){ne(a,e,r)},p:ae,i:ae,o:ae,d(a){a&&u(e)}}}function Ke(l){let e,t=je(l[16].trend)+"",a,r;return{c(){e=c("span"),a=j(t),this.h()},l(d){e=i(d,"SPAN",{class:!0});var n=b(e);a=A(n,t),n.forEach(u),this.h()},h(){v(e,"class",r="trend "+Je(l[16].trend)+" svelte-1a6tat1")},m(d,n){ne(d,e,n),s(e,a)},p(d,n){n&8&&t!==(t=je(d[16].trend)+"")&&re(a,t),n&8&&r!==(r="trend "+Je(d[16].trend)+" svelte-1a6tat1")&&v(e,"class",r)},d(d){d&&u(e)}}}function He(l){let e,t,a=l[16].stats.averageDecayFactor.toFixed(3)+"",r;return{c(){e=c("div"),t=j("Avg. Decay Factor: "),r=j(a),this.h()},l(d){e=i(d,"DIV",{class:!0});var n=b(e);t=A(n,"Avg. Decay Factor: "),r=A(n,a),n.forEach(u),this.h()},h(){v(e,"class","decay-info svelte-1a6tat1")},m(d,n){ne(d,e,n),s(e,t),s(e,r)},p(d,n){n&8&&a!==(a=d[16].stats.averageDecayFactor.toFixed(3)+"")&&re(r,a)},d(d){d&&u(e)}}}function Me(l){let e,t,a,r,d=l[18]+1+"",n,_,o,C,p=l[16].releaseTitle+"",S,se,m,z=l[16].reports.length+"",$,K,D=l[16].reports.length!==1?"s":"",ee,E,J,x,y,B,F,f,G,N,he="Revenue",oe,P,V=Ae(l[16].stats.totalRevenue)+"",te,ie,U,X,W="Streams",ve,h,k=Ee(l[16].stats.totalStreams)+"",H,M,w,R,ce="Sales",Pe,de,pe=Ee(l[16].stats.totalSales)+"",me,Se,Ve,Y,O=l[16].trend!==void 0&&Ke(l);y=new vt({props:{reports:l[16].reports,metric:l[0],height:150}});let L=l[16].stats.averageDecayFactor!==void 0&&He(l);return{c(){e=c("div"),t=c("div"),a=c("div"),r=j("#"),n=j(d),_=Q(),o=c("div"),C=c("h3"),S=j(p),se=Q(),m=c("p"),$=j(z),K=j(" track"),ee=j(D),E=Q(),O&&O.c(),J=Q(),x=c("div"),Ye(y.$$.fragment),B=Q(),F=c("div"),f=c("div"),G=c("div"),N=c("span"),N.textContent=he,oe=Q(),P=c("span"),te=j(V),ie=Q(),U=c("div"),X=c("span"),X.textContent=W,ve=Q(),h=c("span"),H=j(k),M=Q(),w=c("div"),R=c("span"),R.textContent=ce,Pe=Q(),de=c("span"),me=j(pe),Se=Q(),L&&L.c(),Ve=Q(),this.h()},l(g){e=i(g,"DIV",{class:!0});var I=b(e);t=i(I,"DIV",{class:!0});var Z=b(t);a=i(Z,"DIV",{class:!0});var Ne=b(a);r=A(Ne,"#"),n=A(Ne,d),Ne.forEach(u),_=T(Z),o=i(Z,"DIV",{class:!0});var ge=b(o);C=i(ge,"H3",{class:!0});var Oe=b(C);S=A(Oe,p),Oe.forEach(u),se=T(ge),m=i(ge,"P",{class:!0});var be=b(m);$=A(be,z),K=A(be," track"),ee=A(be,D),be.forEach(u),ge.forEach(u),E=T(Z),O&&O.l(Z),Z.forEach(u),J=T(I),x=i(I,"DIV",{class:!0});var Le=b(x);Xe(y.$$.fragment,Le),Le.forEach(u),B=T(I),F=i(I,"DIV",{class:!0});var ye=b(F);f=i(ye,"DIV",{class:!0});var fe=b(f);G=i(fe,"DIV",{class:!0});var Ce=b(G);N=i(Ce,"SPAN",{class:!0,"data-svelte-h":!0}),q(N)!=="svelte-10vby9i"&&(N.textContent=he),oe=T(Ce),P=i(Ce,"SPAN",{class:!0});var Te=b(P);te=A(Te,V),Te.forEach(u),Ce.forEach(u),ie=T(fe),U=i(fe,"DIV",{class:!0});var ke=b(U);X=i(ke,"SPAN",{class:!0,"data-svelte-h":!0}),q(X)!=="svelte-9z6meb"&&(X.textContent=W),ve=T(ke),h=i(ke,"SPAN",{class:!0});var Qe=b(h);H=A(Qe,k),Qe.forEach(u),ke.forEach(u),M=T(fe),w=i(fe,"DIV",{class:!0});var Ie=b(w);R=i(Ie,"SPAN",{class:!0,"data-svelte-h":!0}),q(R)!=="svelte-9u5vfe"&&(R.textContent=ce),Pe=T(Ie),de=i(Ie,"SPAN",{class:!0});var xe=b(de);me=A(xe,pe),xe.forEach(u),Ie.forEach(u),fe.forEach(u),Se=T(ye),L&&L.l(ye),ye.forEach(u),Ve=T(I),I.forEach(u),this.h()},h(){v(a,"class","release-rank svelte-1a6tat1"),v(C,"class","svelte-1a6tat1"),v(m,"class","svelte-1a6tat1"),v(o,"class","release-info svelte-1a6tat1"),v(t,"class","card-header svelte-1a6tat1"),v(x,"class","card-chart svelte-1a6tat1"),v(N,"class","stat-label svelte-1a6tat1"),v(P,"class","stat-value svelte-1a6tat1"),v(G,"class","stat svelte-1a6tat1"),v(X,"class","stat-label svelte-1a6tat1"),v(h,"class","stat-value svelte-1a6tat1"),v(U,"class","stat svelte-1a6tat1"),v(R,"class","stat-label svelte-1a6tat1"),v(de,"class","stat-value svelte-1a6tat1"),v(w,"class","stat svelte-1a6tat1"),v(f,"class","stat-row svelte-1a6tat1"),v(F,"class","card-stats svelte-1a6tat1"),v(e,"class","release-card svelte-1a6tat1")},m(g,I){ne(g,e,I),s(e,t),s(t,a),s(a,r),s(a,n),s(t,_),s(t,o),s(o,C),s(C,S),s(o,se),s(o,m),s(m,$),s(m,K),s(m,ee),s(t,E),O&&O.m(t,null),s(e,J),s(e,x),We(y,x,null),s(e,B),s(e,F),s(F,f),s(f,G),s(G,N),s(G,oe),s(G,P),s(P,te),s(f,ie),s(f,U),s(U,X),s(U,ve),s(U,h),s(h,H),s(f,M),s(f,w),s(w,R),s(w,Pe),s(w,de),s(de,me),s(F,Se),L&&L.m(F,null),s(e,Ve),Y=!0},p(g,I){(!Y||I&8)&&p!==(p=g[16].releaseTitle+"")&&re(S,p),(!Y||I&8)&&z!==(z=g[16].reports.length+"")&&re($,z),(!Y||I&8)&&D!==(D=g[16].reports.length!==1?"s":"")&&re(ee,D),g[16].trend!==void 0?O?O.p(g,I):(O=Ke(g),O.c(),O.m(t,null)):O&&(O.d(1),O=null);const Z={};I&8&&(Z.reports=g[16].reports),I&1&&(Z.metric=g[0]),y.$set(Z),(!Y||I&8)&&V!==(V=Ae(g[16].stats.totalRevenue)+"")&&re(te,V),(!Y||I&8)&&k!==(k=Ee(g[16].stats.totalStreams)+"")&&re(H,k),(!Y||I&8)&&pe!==(pe=Ee(g[16].stats.totalSales)+"")&&re(me,pe),g[16].stats.averageDecayFactor!==void 0?L?L.p(g,I):(L=He(g),L.c(),L.m(F,null)):L&&(L.d(1),L=null)},i(g){Y||(ue(y.$$.fragment,g),Y=!0)},o(g){_e(y.$$.fragment,g),Y=!1},d(g){g&&u(e),O&&O.d(),Ge(y),L&&L.d()}}}function yt(l){let e,t,a,r,d,n,_="Performance by Release",o,C,p,S,se="Last 7 days",m,z="Last 30 days",$,K="Last 90 days",D,ee="Last 6 months",E,J="Last year",x,y,B,F="Sort by Revenue",f,G="Sort by Streams",N,he="Sort by Sales",oe,P,V,te,ie,U;r=new _t({props:{style:"hollow",color:"gray",$$slots:{default:[pt]},$$scope:{ctx:l}}}),r.$on("clicked",l[13]);const X=[bt,gt,mt],W=[];function ve(h,k){return h[2]?0:h[3].length===0?1:2}return P=ve(l),V=W[P]=X[P](l),{c(){e=c("div"),t=c("div"),a=c("div"),Ye(r.$$.fragment),d=Q(),n=c("h1"),n.textContent=_,o=Q(),C=c("div"),p=c("select"),S=c("option"),S.textContent=se,m=c("option"),m.textContent=z,$=c("option"),$.textContent=K,D=c("option"),D.textContent=ee,E=c("option"),E.textContent=J,x=Q(),y=c("select"),B=c("option"),B.textContent=F,f=c("option"),f.textContent=G,N=c("option"),N.textContent=he,oe=Q(),V.c(),this.h()},l(h){e=i(h,"DIV",{class:!0});var k=b(e);t=i(k,"DIV",{class:!0});var H=b(t);a=i(H,"DIV",{class:!0});var M=b(a);Xe(r.$$.fragment,M),d=T(M),n=i(M,"H1",{class:!0,"data-svelte-h":!0}),q(n)!=="svelte-hlqwxq"&&(n.textContent=_),M.forEach(u),o=T(H),C=i(H,"DIV",{class:!0});var w=b(C);p=i(w,"SELECT",{class:!0});var R=b(p);S=i(R,"OPTION",{"data-svelte-h":!0}),q(S)!=="svelte-12vykyh"&&(S.textContent=se),m=i(R,"OPTION",{"data-svelte-h":!0}),q(m)!=="svelte-rt445"&&(m.textContent=z),$=i(R,"OPTION",{"data-svelte-h":!0}),q($)!=="svelte-hz9j5l"&&($.textContent=K),D=i(R,"OPTION",{"data-svelte-h":!0}),q(D)!=="svelte-1rmvjpo"&&(D.textContent=ee),E=i(R,"OPTION",{"data-svelte-h":!0}),q(E)!=="svelte-h7qlg3"&&(E.textContent=J),R.forEach(u),x=T(w),y=i(w,"SELECT",{class:!0});var ce=b(y);B=i(ce,"OPTION",{"data-svelte-h":!0}),q(B)!=="svelte-1j5b5ph"&&(B.textContent=F),f=i(ce,"OPTION",{"data-svelte-h":!0}),q(f)!=="svelte-7s6kvz"&&(f.textContent=G),N=i(ce,"OPTION",{"data-svelte-h":!0}),q(N)!=="svelte-1kwgtud"&&(N.textContent=he),ce.forEach(u),w.forEach(u),H.forEach(u),oe=T(k),V.l(k),k.forEach(u),this.h()},h(){v(n,"class","svelte-1a6tat1"),v(a,"class","header-left svelte-1a6tat1"),S.__value=7,le(S,S.__value),m.__value=30,le(m,m.__value),$.__value=90,le($,$.__value),D.__value=180,le(D,D.__value),E.__value=365,le(E,E.__value),v(p,"class","date-range-select svelte-1a6tat1"),l[1]===void 0&&Fe(()=>l[14].call(p)),B.__value="revenue",le(B,B.__value),f.__value="streams",le(f,f.__value),N.__value="sales",le(N,N.__value),v(y,"class","metric-select svelte-1a6tat1"),l[0]===void 0&&Fe(()=>l[15].call(y)),v(C,"class","header-controls svelte-1a6tat1"),v(t,"class","page-header svelte-1a6tat1"),v(e,"class","detail-page svelte-1a6tat1")},m(h,k){ne(h,e,k),s(e,t),s(t,a),We(r,a,null),s(a,d),s(a,n),s(t,o),s(t,C),s(C,p),s(p,S),s(p,m),s(p,$),s(p,D),s(p,E),De(p,l[1],!0),s(C,x),s(C,y),s(y,B),s(y,f),s(y,N),De(y,l[0],!0),s(e,oe),W[P].m(e,null),te=!0,ie||(U=[Be(p,"change",l[14]),Be(y,"change",l[15])],ie=!0)},p(h,[k]){const H={};k&524288&&(H.$$scope={dirty:k,ctx:h}),r.$set(H),k&2&&De(p,h[1]),k&1&&De(y,h[0]);let M=P;P=ve(h),P===M?W[P].p(h,k):(Ze(),_e(W[M],1,1,()=>{W[M]=null}),Ue(),V=W[P],V?V.p(h,k):(V=W[P]=X[P](h),V.c()),ue(V,1),V.m(e,null))},i(h){te||(ue(r.$$.fragment,h),ue(V),te=!0)},o(h){_e(r.$$.fragment,h),_e(V),te=!1},d(h){h&&u(e),Ge(r),W[P].d(),ie=!1,tt(U)}}}function Je(l){return l?l>=0?"trend-positive":"trend-negative":""}function Ct(l,e,t){let a,r,d,n,_,o,C,p,S=ae,se=()=>(S(),S=$e(_,f=>t(9,p=f)),_),m,z=ae,$=()=>(z(),z=$e(n,f=>t(10,m=f)),n),K,D=ae,ee=()=>(D(),D=$e(d,f=>t(11,K=f)),d),E;at(l,nt,f=>t(12,E=f)),l.$$.on_destroy.push(()=>S()),l.$$.on_destroy.push(()=>z()),l.$$.on_destroy.push(()=>D());let J="revenue",x=30;const y=()=>ht("/labels/finances");function B(){x=Re(this),t(1,x)}function F(){J=Re(this),t(0,J)}return l.$$.update=()=>{l.$$.dirty&4096&&t(7,a=(E==null?void 0:E.id)||""),l.$$.dirty&2&&t(8,r=ot(x)),l.$$.dirty&384&&ee(t(6,d=it(a,r))),l.$$.dirty&128&&$(t(5,n=we({queryKey:["tracks","label",a],queryFn:()=>dt(a),enabled:!!a}))),l.$$.dirty&128&&se(t(4,_=we({queryKey:["releases","label",a],queryFn:()=>ft(a),enabled:!!a}))),l.$$.dirty&3585&&t(3,o=K.data&&m.data&&p.data?ct(ut(K.data,m.data,p.data),J):[]),l.$$.dirty&3584&&t(2,C=K.isLoading||m.isLoading||p.isLoading)},[J,x,C,o,_,n,d,a,r,p,m,K,E,y,B,F]}class $t extends lt{constructor(e){super(),rt(this,e,Ct,yt,et,{})}}export{$t as component};
