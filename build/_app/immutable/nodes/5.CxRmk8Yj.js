import{s as Q,d as b,i as H,b as $,l as k,c as x,e as D,g as E,m as U,h as L,j as I,k as X,n as j,a as Z,f as J,t as K,w as F,x as O}from"../chunks/CukiabJc.js";import{S as Y,i as ee,d as M,t as S,a as T,e as te,m as V,c as R,b as B,f as A,g as le}from"../chunks/BWg-T3m7.js";import{g as se}from"../chunks/Uwlk8-I3.js";import{B as ae,c as ne,l as re}from"../chunks/BkWhDSw7.js";import{H as ie,p as z}from"../chunks/BaVsN4y3.js";import{R as oe,a as fe,S as ue}from"../chunks/Dz6Lwp_H.js";import{T as G}from"../chunks/BzMIM7sd.js";const ce=""+new URL("../assets/hero-create-label.D0UZjLBS.png",import.meta.url).href;function de(a){let e,t='<h1 class="text-5xl font-black mb-4 text-center">Every legend starts with a name</h1> <p class="max-w text-lg text-center">Build your brand, sign talent, and take over the game.</p> <p class="max-w text-4xl font-black text-center mt-6 text-primary-500">Name it. Own it. Run it.</p>';return{c(){e=L("div"),e.innerHTML=t,this.h()},l(s){e=x(s,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1yks324"&&(e.innerHTML=t),this.h()},h(){k(e,"class","max-w-112 mx-auto pb-24")},m(s,n){H(s,e,n)},p:j,d(s){s&&b(e)}}}function W(a){let e,t;return{c(){e=L("div"),t=K(a[5]),this.h()},l(s){e=x(s,"DIV",{class:!0});var n=D(e);t=J(n,a[5]),n.forEach(b),this.h()},h(){k(e,"class","mb-4 p-4 bg-red-900/50 border border-red-500 rounded text-red-200")},m(s,n){H(s,e,n),$(e,t)},p(s,n){n&32&&Z(t,s[5])},d(s){s&&b(e)}}}function me(a){let e,t,s,n,f,c,_,p,g,h,i,m;function C(l){a[8](l)}let d={label:"Label Name",id:"name",inputType:"text",disabled:a[4],placeholder:"Enter your label name"};a[1]!==void 0&&(d.value=a[1]),t=new G({props:d}),F.push(()=>A(t,"value",C));function o(l){a[9](l)}let v={label:"Description",id:"description",inputType:"textarea",rows:4,disabled:a[4],placeholder:"Describe your label's vision and goals"};a[2]!==void 0&&(v.value=a[2]),f=new G({props:v}),F.push(()=>A(f,"value",o));function N(l){a[10](l)}let u={label:"Genre(s)",choices:a[6],mode:"multi",labelFor:"genre-btn"};return a[3]!==void 0&&(u.value=a[3]),p=new ue({props:u}),F.push(()=>A(p,"value",N)),i=new ae({props:{color:"primary",style:"normal",altText:"Create new label",fullWidth:!0,loading:a[4],disabled:a[4],$$slots:{default:[_e]},$$scope:{ctx:a}}}),i.$on("clicked",a[7]),{c(){e=L("div"),B(t.$$.fragment),n=I(),B(f.$$.fragment),_=I(),B(p.$$.fragment),h=I(),B(i.$$.fragment),this.h()},l(l){e=x(l,"DIV",{class:!0});var r=D(e);R(t.$$.fragment,r),n=E(r),R(f.$$.fragment,r),_=E(r),R(p.$$.fragment,r),h=E(r),R(i.$$.fragment,r),r.forEach(b),this.h()},h(){k(e,"class","space-y-6")},m(l,r){H(l,e,r),V(t,e,null),$(e,n),V(f,e,null),$(e,_),V(p,e,null),$(e,h),V(i,e,null),m=!0},p(l,r){const w={};r&16&&(w.disabled=l[4]),!s&&r&2&&(s=!0,w.value=l[1],O(()=>s=!1)),t.$set(w);const y={};r&16&&(y.disabled=l[4]),!c&&r&4&&(c=!0,y.value=l[2],O(()=>c=!1)),f.$set(y);const q={};r&64&&(q.choices=l[6]),!g&&r&8&&(g=!0,q.value=l[3],O(()=>g=!1)),p.$set(q);const P={};r&16&&(P.loading=l[4]),r&16&&(P.disabled=l[4]),r&4112&&(P.$$scope={dirty:r,ctx:l}),i.$set(P)},i(l){m||(T(t.$$.fragment,l),T(f.$$.fragment,l),T(p.$$.fragment,l),T(i.$$.fragment,l),m=!0)},o(l){S(t.$$.fragment,l),S(f.$$.fragment,l),S(p.$$.fragment,l),S(i.$$.fragment,l),m=!1},d(l){l&&b(e),M(t),M(f),M(p),M(i)}}}function pe(a){let e,t=`Please <a href="/users/login" class="underline">sign in</a> or
						<a href="/users/register" class="underline">create an account</a> before creating a label.`;return{c(){e=L("div"),e.innerHTML=t,this.h()},l(s){e=x(s,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-k74sbw"&&(e.innerHTML=t),this.h()},h(){k(e,"class","p-4 bg-yellow-900/50 border border-yellow-500 rounded text-yellow-200")},m(s,n){H(s,e,n)},p:j,i:j,o:j,d(s){s&&b(e)}}}function _e(a){let e=a[4]?"Creating your Label...":"Create your Label",t;return{c(){t=K(e)},l(s){t=J(s,e)},m(s,n){H(s,t,n)},p(s,n){n&16&&e!==(e=s[4]?"Creating your Label...":"Create your Label")&&Z(t,e)},d(s){s&&b(t)}}}function he(a){let e,t,s,n,f,c,_,p='<span class="text-3xl/6 font-thin">Create</span> <span class="text-6xl font-black">your label</span>',g,h,i,m,C;t=new ie({props:{image:ce,$$slots:{default:[de]},$$scope:{ctx:a}}});let d=a[5]&&W(a);const o=[pe,me],v=[];function N(u,l){return u[0]?1:0}return i=N(a),m=v[i]=o[i](a),{c(){e=L("div"),B(t.$$.fragment),s=I(),n=L("section"),f=L("div"),c=L("div"),_=L("h1"),_.innerHTML=p,g=I(),d&&d.c(),h=I(),m.c(),this.h()},l(u){e=x(u,"DIV",{class:!0});var l=D(e);R(t.$$.fragment,l),s=E(l),n=x(l,"SECTION",{class:!0});var r=D(n);f=x(r,"DIV",{class:!0});var w=D(f);c=x(w,"DIV",{class:!0});var y=D(c);_=x(y,"H1",{class:!0,"data-svelte-h":!0}),U(_)!=="svelte-2idmds"&&(_.innerHTML=p),g=E(y),d&&d.l(y),h=E(y),m.l(y),y.forEach(b),w.forEach(b),r.forEach(b),l.forEach(b),this.h()},h(){k(_,"class","flex flex-col uppercase font-thin select-none mb-16"),k(c,"class","max-w-2xl mx-auto"),k(f,"class","min-h-screen text-white p-8"),k(n,"class","md:basis-3/5"),k(e,"class","flex md:flex-row flex-col-reverse h-full")},m(u,l){H(u,e,l),V(t,e,null),$(e,s),$(e,n),$(n,f),$(f,c),$(c,_),$(c,g),d&&d.m(c,null),$(c,h),v[i].m(c,null),C=!0},p(u,[l]){const r={};l&4096&&(r.$$scope={dirty:l,ctx:u}),t.$set(r),u[5]?d?d.p(u,l):(d=W(u),d.c(),d.m(c,h)):d&&(d.d(1),d=null);let w=i;i=N(u),i===w?v[i].p(u,l):(le(),S(v[w],1,1,()=>{v[w]=null}),te(),m=v[i],m?m.p(u,l):(m=v[i]=o[i](u),m.c()),T(m,1),m.m(c,null))},i(u){C||(T(t.$$.fragment,u),T(m),C=!0)},o(u){S(t.$$.fragment,u),S(m),C=!1},d(u){u&&b(e),M(t),d&&d.d(),v[i].d()}}}function be(a,e,t){let s,n;X(a,z,o=>t(11,n=o));let f=n,c="",_="",p=new Set,g=!1,h="";z.subscribe(o=>{t(0,f=o)});async function i(){if(t(5,h=""),!(f!=null&&f.id)){t(5,h="Player data not found. Please log in first.");return}if(!c.trim()){t(5,h="Label name is required");return}if(!_.trim()){t(5,h="Description is required");return}if(p.size===0){t(5,h="Select at least one production style");return}t(4,g=!0);try{const o=await ne({ownerPlayerId:f.id,name:c.trim(),description:_.trim(),productionStyles:Array.from(p)});re.set(o),await se("/labels")}catch(o){t(5,h=o instanceof Error?o.message:"An error occurred while creating the label")}finally{t(4,g=!1)}}function m(o){c=o,t(1,c)}function C(o){_=o,t(2,_)}function d(o){p=o,t(3,p)}return t(6,s=Object.values(oe).filter(o=>typeof o=="number").map(o=>({name:fe[o],value:o}))),[f,c,_,p,g,h,s,i,m,C,d]}class Le extends Y{constructor(e){super(),ee(this,e,be,he,Q,{})}}export{Le as component};
