import{s as K,d as _,i as H,b as g,l as y,c as k,e as T,g as D,m as U,h as x,j as E,k as Q,n as j,a as W,f as Z,t as J,C as F,H as O}from"../chunks/DjsGgg0N.js";import{S as X,i as Y,d as I,t as C,a as S,e as ee,m as M,c as V,b as P,f as A,g as te}from"../chunks/cWIQy_G5.js";import{g as le}from"../chunks/Dfj9RPht.js";import{c as ae}from"../chunks/Cf-bsS6h.js";import{e as se,h as re}from"../chunks/DcUeqTlN.js";import{B as ne}from"../chunks/CWWdc1ov.js";import{H as ie}from"../chunks/zVIkqBZ4.js";import{S as oe}from"../chunks/D48lRbT_.js";import{T as z}from"../chunks/BhtwpykW.js";import{a as fe,R as ue}from"../chunks/DKtOMQsd.js";const ce=""+new URL("../assets/hero-create-label.D0UZjLBS.png",import.meta.url).href;function de(r){let e,t='<h1 class="text-5xl font-black mb-4 text-center">Every legend starts with a name</h1> <p class="max-w text-lg text-center">Build your brand, sign talent, and take over the game.</p> <p class="max-w text-4xl font-black text-center mt-6 text-primary-500">Name it. Own it. Run it.</p>';return{c(){e=x("div"),e.innerHTML=t,this.h()},l(a){e=k(a,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1yks324"&&(e.innerHTML=t),this.h()},h(){y(e,"class","max-w-112 mx-auto pb-24")},m(a,n){H(a,e,n)},p:j,d(a){a&&_(e)}}}function G(r){let e,t;return{c(){e=x("div"),t=J(r[4]),this.h()},l(a){e=k(a,"DIV",{class:!0});var n=T(e);t=Z(n,r[4]),n.forEach(_),this.h()},h(){y(e,"class","mb-4 p-4 bg-red-900/50 border border-red-500 rounded text-red-200")},m(a,n){H(a,e,n),g(e,t)},p(a,n){n&16&&W(t,a[4])},d(a){a&&_(e)}}}function me(r){let e,t,a,n,u,c,m,p,h,v,o,d;function L(l){r[8](l)}let s={label:"Label Name",id:"name",inputType:"text",disabled:r[3],placeholder:"Enter your label name"};r[0]!==void 0&&(s.value=r[0]),t=new z({props:s}),F.push(()=>A(t,"value",L));function R(l){r[9](l)}let b={label:"Description",id:"description",inputType:"textarea",rows:4,disabled:r[3],placeholder:"Describe your label's vision and goals"};r[1]!==void 0&&(b.value=r[1]),u=new z({props:b}),F.push(()=>A(u,"value",R));function B(l){r[10](l)}let f={label:"Genre(s)",choices:r[5],mode:"multi",labelFor:"genre-btn"};return r[2]!==void 0&&(f.value=r[2]),p=new oe({props:f}),F.push(()=>A(p,"value",B)),o=new ne({props:{color:"primary",style:"normal",altText:"Create new label",fullWidth:!0,loading:r[3],disabled:r[3],$$slots:{default:[he]},$$scope:{ctx:r}}}),o.$on("clicked",r[7]),{c(){e=x("div"),P(t.$$.fragment),n=E(),P(u.$$.fragment),m=E(),P(p.$$.fragment),v=E(),P(o.$$.fragment),this.h()},l(l){e=k(l,"DIV",{class:!0});var i=T(e);V(t.$$.fragment,i),n=D(i),V(u.$$.fragment,i),m=D(i),V(p.$$.fragment,i),v=D(i),V(o.$$.fragment,i),i.forEach(_),this.h()},h(){y(e,"class","space-y-6")},m(l,i){H(l,e,i),M(t,e,null),g(e,n),M(u,e,null),g(e,m),M(p,e,null),g(e,v),M(o,e,null),d=!0},p(l,i){const $={};i&8&&($.disabled=l[3]),!a&&i&1&&(a=!0,$.value=l[0],O(()=>a=!1)),t.$set($);const w={};i&8&&(w.disabled=l[3]),!c&&i&2&&(c=!0,w.value=l[1],O(()=>c=!1)),u.$set(w);const q={};i&32&&(q.choices=l[5]),!h&&i&4&&(h=!0,q.value=l[2],O(()=>h=!1)),p.$set(q);const N={};i&8&&(N.loading=l[3]),i&8&&(N.disabled=l[3]),i&2056&&(N.$$scope={dirty:i,ctx:l}),o.$set(N)},i(l){d||(S(t.$$.fragment,l),S(u.$$.fragment,l),S(p.$$.fragment,l),S(o.$$.fragment,l),d=!0)},o(l){C(t.$$.fragment,l),C(u.$$.fragment,l),C(p.$$.fragment,l),C(o.$$.fragment,l),d=!1},d(l){l&&_(e),I(t),I(u),I(p),I(o)}}}function pe(r){let e,t=`Please <a href="/users/login" class="underline">sign in</a> or
						<a href="/users/register" class="underline">create an account</a> before creating a label.`;return{c(){e=x("div"),e.innerHTML=t,this.h()},l(a){e=k(a,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-k74sbw"&&(e.innerHTML=t),this.h()},h(){y(e,"class","p-4 bg-yellow-900/50 border border-yellow-500 rounded text-yellow-200")},m(a,n){H(a,e,n)},p:j,i:j,o:j,d(a){a&&_(e)}}}function he(r){let e=r[3]?"Creating your Label...":"Create your Label",t;return{c(){t=J(e)},l(a){t=Z(a,e)},m(a,n){H(a,t,n)},p(a,n){n&8&&e!==(e=a[3]?"Creating your Label...":"Create your Label")&&W(t,e)},d(a){a&&_(t)}}}function _e(r){let e,t,a,n,u,c,m,p='<span class="text-3xl/6 font-thin">Create</span> <span class="text-6xl font-black">your label</span>',h,v,o,d,L;t=new ie({props:{image:ce,$$slots:{default:[de]},$$scope:{ctx:r}}});let s=r[4]&&G(r);const R=[pe,me],b=[];function B(f,l){return f[6]?1:0}return o=B(r),d=b[o]=R[o](r),{c(){e=x("div"),P(t.$$.fragment),a=E(),n=x("section"),u=x("div"),c=x("div"),m=x("h1"),m.innerHTML=p,h=E(),s&&s.c(),v=E(),d.c(),this.h()},l(f){e=k(f,"DIV",{class:!0});var l=T(e);V(t.$$.fragment,l),a=D(l),n=k(l,"SECTION",{class:!0});var i=T(n);u=k(i,"DIV",{class:!0});var $=T(u);c=k($,"DIV",{class:!0});var w=T(c);m=k(w,"H1",{class:!0,"data-svelte-h":!0}),U(m)!=="svelte-2idmds"&&(m.innerHTML=p),h=D(w),s&&s.l(w),v=D(w),d.l(w),w.forEach(_),$.forEach(_),i.forEach(_),l.forEach(_),this.h()},h(){y(m,"class","flex flex-col uppercase font-thin select-none mb-16"),y(c,"class","max-w-2xl mx-auto"),y(u,"class","min-h-screen text-white p-8"),y(n,"class","md:basis-3/5"),y(e,"class","flex md:flex-row flex-col-reverse h-full")},m(f,l){H(f,e,l),M(t,e,null),g(e,a),g(e,n),g(n,u),g(u,c),g(c,m),g(c,h),s&&s.m(c,null),g(c,v),b[o].m(c,null),L=!0},p(f,[l]){const i={};l&2048&&(i.$$scope={dirty:l,ctx:f}),t.$set(i),f[4]?s?s.p(f,l):(s=G(f),s.c(),s.m(c,v)):s&&(s.d(1),s=null);let $=o;o=B(f),o===$?b[o].p(f,l):(te(),C(b[$],1,1,()=>{b[$]=null}),ee(),d=b[o],d?d.p(f,l):(d=b[o]=R[o](f),d.c()),S(d,1),d.m(c,null))},i(f){L||(S(t.$$.fragment,f),S(d),L=!0)},o(f){C(t.$$.fragment,f),C(d),L=!1},d(f){f&&_(e),I(t),s&&s.d(),b[o].d()}}}function be(r,e,t){let a,n;Q(r,se,s=>t(6,n=s));let u="",c="",m=new Set,p=!1,h="";async function v(){if(t(4,h=""),!(n!=null&&n.id)){t(4,h="Player data not found. Please log in first.");return}if(!u.trim()){t(4,h="Label name is required");return}if(!c.trim()){t(4,h="Description is required");return}if(m.size===0){t(4,h="Select at least one production style");return}t(3,p=!0);try{const s=await ae({ownerPlayerId:n.id,name:u.trim(),description:c.trim(),productionStyles:Array.from(m)});re.addLabel(s),await le("/labels")}catch(s){t(4,h=s instanceof Error?s.message:"An error occurred while creating the label")}finally{t(3,p=!1)}}function o(s){u=s,t(0,u)}function d(s){c=s,t(1,c)}function L(s){m=s,t(2,m)}return t(5,a=Object.values(fe).filter(s=>typeof s=="number").map(s=>({name:ue[s],value:s}))),[u,c,m,p,h,a,n,v,o,d,L]}class Te extends X{constructor(e){super(),Y(this,e,be,_e,K,{})}}export{Te as component};
