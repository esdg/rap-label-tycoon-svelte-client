import{s as Q,d as b,i as H,b as v,l as y,c as k,e as S,g as E,m as U,h as x,j as I,k as X,n as j,a as z,f as J,t as K,w as F,x as O}from"../chunks/CukiabJc.js";import{S as Y,i as ee,d as M,t as C,a as T,e as te,m as V,c as R,b as B,f as G,g as le}from"../chunks/BWg-T3m7.js";import{g as se}from"../chunks/D6HOLgkx.js";import{B as ae,c as ne,l as re}from"../chunks/D4Hmy4hM.js";import{H as ie,p as A}from"../chunks/BaVsN4y3.js";import{R as oe,a as fe,S as ue}from"../chunks/Dz6Lwp_H.js";import{T as W}from"../chunks/BzMIM7sd.js";const ce=""+new URL("../assets/hero-create-label.D0UZjLBS.png",import.meta.url).href;function de(a){let e,t='<h1 class="text-5xl font-black mb-4 text-center">Every legend starts with a name</h1> <p class="max-w text-lg text-center">Build your brand, sign talent, and take over the game.</p> <p class="max-w text-4xl font-black text-center mt-6 text-primary-500">Name it. Own it. Run it.</p>';return{c(){e=x("div"),e.innerHTML=t,this.h()},l(s){e=k(s,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-1yks324"&&(e.innerHTML=t),this.h()},h(){y(e,"class","max-w-112 mx-auto pb-24")},m(s,r){H(s,e,r)},p:j,d(s){s&&b(e)}}}function Z(a){let e,t;return{c(){e=x("div"),t=K(a[4]),this.h()},l(s){e=k(s,"DIV",{class:!0});var r=S(e);t=J(r,a[4]),r.forEach(b),this.h()},h(){y(e,"class","mb-4 p-4 bg-red-900/50 border border-red-500 rounded text-red-200")},m(s,r){H(s,e,r),v(e,t)},p(s,r){r&16&&z(t,s[4])},d(s){s&&b(e)}}}function me(a){let e,t,s,r,f,c,p,_,g,h,o,m;function L(l){a[8](l)}let d={label:"Label Name",id:"name",inputType:"text",disabled:a[3],placeholder:"Enter your label name"};a[1]!==void 0&&(d.value=a[1]),t=new W({props:d}),F.push(()=>G(t,"value",L));function D(l){a[9](l)}let n={label:"Description",id:"description",inputType:"textarea",rows:4,disabled:a[3],placeholder:"Describe your label's vision and goals"};a[2]!==void 0&&(n.value=a[2]),f=new W({props:n}),F.push(()=>G(f,"value",D));function N(l){a[10](l)}let u={label:"Genre(s)",choices:a[6],mode:"multi",labelFor:"genre-btn"};return a[5]!==void 0&&(u.value=a[5]),_=new ue({props:u}),F.push(()=>G(_,"value",N)),o=new ae({props:{color:"primary",style:"normal",altText:"Create new label",fullWidth:!0,loading:a[3],disabled:a[3],$$slots:{default:[he]},$$scope:{ctx:a}}}),o.$on("clicked",a[7]),{c(){e=x("div"),B(t.$$.fragment),r=I(),B(f.$$.fragment),p=I(),B(_.$$.fragment),h=I(),B(o.$$.fragment),this.h()},l(l){e=k(l,"DIV",{class:!0});var i=S(e);R(t.$$.fragment,i),r=E(i),R(f.$$.fragment,i),p=E(i),R(_.$$.fragment,i),h=E(i),R(o.$$.fragment,i),i.forEach(b),this.h()},h(){y(e,"class","space-y-6")},m(l,i){H(l,e,i),V(t,e,null),v(e,r),V(f,e,null),v(e,p),V(_,e,null),v(e,h),V(o,e,null),m=!0},p(l,i){const $={};i&8&&($.disabled=l[3]),!s&&i&2&&(s=!0,$.value=l[1],O(()=>s=!1)),t.$set($);const w={};i&8&&(w.disabled=l[3]),!c&&i&4&&(c=!0,w.value=l[2],O(()=>c=!1)),f.$set(w);const q={};i&64&&(q.choices=l[6]),!g&&i&32&&(g=!0,q.value=l[5],O(()=>g=!1)),_.$set(q);const P={};i&8&&(P.loading=l[3]),i&8&&(P.disabled=l[3]),i&8200&&(P.$$scope={dirty:i,ctx:l}),o.$set(P)},i(l){m||(T(t.$$.fragment,l),T(f.$$.fragment,l),T(_.$$.fragment,l),T(o.$$.fragment,l),m=!0)},o(l){C(t.$$.fragment,l),C(f.$$.fragment,l),C(_.$$.fragment,l),C(o.$$.fragment,l),m=!1},d(l){l&&b(e),M(t),M(f),M(_),M(o)}}}function pe(a){let e,t=`Please <a href="/users/login" class="underline">sign in</a> or
						<a href="/users/register" class="underline">create an account</a> before creating a label.`;return{c(){e=x("div"),e.innerHTML=t,this.h()},l(s){e=k(s,"DIV",{class:!0,"data-svelte-h":!0}),U(e)!=="svelte-k74sbw"&&(e.innerHTML=t),this.h()},h(){y(e,"class","p-4 bg-yellow-900/50 border border-yellow-500 rounded text-yellow-200")},m(s,r){H(s,e,r)},p:j,i:j,o:j,d(s){s&&b(e)}}}function he(a){let e=a[3]?"Creating your Label...":"Create your Label",t;return{c(){t=K(e)},l(s){t=J(s,e)},m(s,r){H(s,t,r)},p(s,r){r&8&&e!==(e=s[3]?"Creating your Label...":"Create your Label")&&z(t,e)},d(s){s&&b(t)}}}function _e(a){let e,t,s,r,f,c,p,_='<span class="text-3xl/6 font-thin">Create</span> <span class="text-6xl font-black">your label</span>',g,h,o,m,L;t=new ie({props:{image:ce,$$slots:{default:[de]},$$scope:{ctx:a}}});let d=a[4]&&Z(a);const D=[pe,me],n=[];function N(u,l){return u[0]?1:0}return o=N(a),m=n[o]=D[o](a),{c(){e=x("div"),B(t.$$.fragment),s=I(),r=x("section"),f=x("div"),c=x("div"),p=x("h1"),p.innerHTML=_,g=I(),d&&d.c(),h=I(),m.c(),this.h()},l(u){e=k(u,"DIV",{class:!0});var l=S(e);R(t.$$.fragment,l),s=E(l),r=k(l,"SECTION",{class:!0});var i=S(r);f=k(i,"DIV",{class:!0});var $=S(f);c=k($,"DIV",{class:!0});var w=S(c);p=k(w,"H1",{class:!0,"data-svelte-h":!0}),U(p)!=="svelte-2idmds"&&(p.innerHTML=_),g=E(w),d&&d.l(w),h=E(w),m.l(w),w.forEach(b),$.forEach(b),i.forEach(b),l.forEach(b),this.h()},h(){y(p,"class","flex flex-col uppercase font-thin select-none mb-16"),y(c,"class","max-w-2xl mx-auto"),y(f,"class","min-h-screen text-white p-8"),y(r,"class","md:basis-3/5"),y(e,"class","flex md:flex-row flex-col-reverse h-full")},m(u,l){H(u,e,l),V(t,e,null),v(e,s),v(e,r),v(r,f),v(f,c),v(c,p),v(c,g),d&&d.m(c,null),v(c,h),n[o].m(c,null),L=!0},p(u,[l]){const i={};l&8192&&(i.$$scope={dirty:l,ctx:u}),t.$set(i),u[4]?d?d.p(u,l):(d=Z(u),d.c(),d.m(c,h)):d&&(d.d(1),d=null);let $=o;o=N(u),o===$?n[o].p(u,l):(le(),C(n[$],1,1,()=>{n[$]=null}),te(),m=n[o],m?m.p(u,l):(m=n[o]=D[o](u),m.c()),T(m,1),m.m(c,null))},i(u){L||(T(t.$$.fragment,u),T(m),L=!0)},o(u){C(t.$$.fragment,u),C(m),L=!1},d(u){u&&b(e),M(t),d&&d.d(),n[o].d()}}}function be(a,e,t){let s,r;X(a,A,n=>t(11,r=n));let f=r,c="",p="",_=[],g=!1,h="",o=new Set;A.subscribe(n=>{t(0,f=n)});async function m(){if(t(4,h=""),!(f!=null&&f.id)){t(4,h="Player data not found. Please log in first.");return}if(!c.trim()){t(4,h="Label name is required");return}if(!p.trim()){t(4,h="Description is required");return}if(_.length===0){t(4,h="Select at least one production style");return}t(3,g=!0);try{const n=await ne({ownerPlayerId:f.id,name:c.trim(),description:p.trim(),productionStyles:_});re.set(n),await se("/labels")}catch(n){t(4,h=n instanceof Error?n.message:"An error occurred while creating the label")}finally{t(3,g=!1)}}function L(n){c=n,t(1,c)}function d(n){p=n,t(2,p)}function D(n){o=n,t(5,o)}return t(6,s=Object.values(oe).filter(n=>typeof n=="number").map(n=>({name:fe[n],value:n}))),[f,c,p,g,h,o,s,m,L,d,D]}class Le extends Y{constructor(e){super(),ee(this,e,be,_e,Q,{})}}export{Le as component};
