import{s as Ve,d as m,w as we,D as Y,I as ue,i as J,b as r,q as _e,l as k,J as me,c as f,e as L,g as j,m as K,h,j as R,k as Oe,f as Z,t as ee,n as te,a as ne,o as $e,v as de,K as ge}from"../chunks/DjsGgg0N.js";import{S as Be,i as qe,d as Ee,t as ce,a as ie,e as Le,m as Ne,c as Pe,b as Se,g as Qe}from"../chunks/cWIQy_G5.js";import{e as ke}from"../chunks/BV4LPSyA.js";import{i as fe,b as je,j as Re}from"../chunks/DcUeqTlN.js";import{g as Me,c as Ae,s as ze,d as Ke,f as be,e as ve,P as Fe,h as ye}from"../chunks/ChO2LMN6.js";import{f as He,a as xe}from"../chunks/BKpNHhAM.js";import{B as Je}from"../chunks/CWWdc1ov.js";import{g as Ue}from"../chunks/Dfj9RPht.js";function Ce(s,e,t){const l=s.slice();return l[23]=e[t],l[25]=t,l}function Ge(s){let e;return{c(){e=ee("← Back to Dashboard")},l(t){e=Z(t,"← Back to Dashboard")},m(t,l){J(t,e,l)},d(t){t&&m(e)}}}function We(s){let e,t,l='<div class="col-rank svelte-1nk160g">#</div> <div class="col-track svelte-1nk160g">Track</div> <div class="col-chart svelte-1nk160g">Performance</div> <div class="col-revenue svelte-1nk160g">Revenue</div> <div class="col-streams svelte-1nk160g">Streams</div> <div class="col-sales svelte-1nk160g">Sales</div> <div class="col-trend svelte-1nk160g">Trend</div>',o,d,a=ke(s[4]),n=[];for(let i=0;i<a.length;i+=1)n[i]=Te(Ce(s,a,i));const Q=i=>ce(n[i],1,1,()=>{n[i]=null});return{c(){e=h("div"),t=h("div"),t.innerHTML=l,o=R();for(let i=0;i<n.length;i+=1)n[i].c();this.h()},l(i){e=f(i,"DIV",{class:!0});var v=L(e);t=f(v,"DIV",{class:!0,"data-svelte-h":!0}),K(t)!=="svelte-10o4az4"&&(t.innerHTML=l),o=j(v);for(let c=0;c<n.length;c+=1)n[c].l(v);v.forEach(m),this.h()},h(){k(t,"class","table-header svelte-1nk160g"),k(e,"class","tracks-table svelte-1nk160g")},m(i,v){J(i,e,v),r(e,t),r(e,o);for(let c=0;c<n.length;c+=1)n[c]&&n[c].m(e,null);d=!0},p(i,v){if(v&17){a=ke(i[4]);let c;for(c=0;c<a.length;c+=1){const b=Ce(i,a,c);n[c]?(n[c].p(b,v),ie(n[c],1)):(n[c]=Te(b),n[c].c(),ie(n[c],1),n[c].m(e,null))}for(Qe(),c=a.length;c<n.length;c+=1)Q(c);Le()}},i(i){if(!d){for(let v=0;v<a.length;v+=1)ie(n[v]);d=!0}},o(i){n=n.filter(Boolean);for(let v=0;v<n.length;v+=1)ce(n[v]);d=!1},d(i){i&&m(e),$e(n,i)}}}function Xe(s){let e,t=s[2]?"No tracks match your search":"No track performance data available",l;return{c(){e=h("div"),l=ee(t),this.h()},l(o){e=f(o,"DIV",{class:!0});var d=L(e);l=Z(d,t),d.forEach(m),this.h()},h(){k(e,"class","empty-state svelte-1nk160g")},m(o,d){J(o,e,d),r(e,l)},p(o,d){d&4&&t!==(t=o[2]?"No tracks match your search":"No track performance data available")&&ne(l,t)},i:te,o:te,d(o){o&&m(e)}}}function Ye(s){let e,t="Loading...";return{c(){e=h("div"),e.textContent=t,this.h()},l(l){e=f(l,"DIV",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1wfwfdr"&&(e.textContent=t),this.h()},h(){k(e,"class","loading-state svelte-1nk160g")},m(l,o){J(l,e,o)},p:te,i:te,o:te,d(l){l&&m(e)}}}function Ie(s){let e,t="•",l,o=s[23].releaseTitle+"",d;return{c(){e=h("span"),e.textContent=t,l=R(),d=ee(o),this.h()},l(a){e=f(a,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-1no21tg"&&(e.textContent=t),l=j(a),d=Z(a,o),this.h()},h(){k(e,"class","separator svelte-1nk160g")},m(a,n){J(a,e,n),J(a,l,n),J(a,d,n)},p(a,n){n&16&&o!==(o=a[23].releaseTitle+"")&&ne(d,o)},d(a){a&&(m(e),m(l),m(d))}}}function Ze(s){let e,t="N/A";return{c(){e=h("span"),e.textContent=t,this.h()},l(l){e=f(l,"SPAN",{class:!0,"data-svelte-h":!0}),K(e)!=="svelte-61dc1y"&&(e.textContent=t),this.h()},h(){k(e,"class","trend-na svelte-1nk160g")},m(l,o){J(l,e,o)},p:te,d(l){l&&m(e)}}}function et(s){let e,t=ye(s[23].trend)+"",l,o;return{c(){e=h("span"),l=ee(t),this.h()},l(d){e=f(d,"SPAN",{class:!0});var a=L(e);l=Z(a,t),a.forEach(m),this.h()},h(){k(e,"class",o="trend "+De(s[23].trend)+" svelte-1nk160g")},m(d,a){J(d,e,a),r(e,l)},p(d,a){a&16&&t!==(t=ye(d[23].trend)+"")&&ne(l,t),a&16&&o!==(o="trend "+De(d[23].trend)+" svelte-1nk160g")&&k(e,"class",o)},d(d){d&&m(e)}}}function Te(s){let e,t,l=s[25]+1+"",o,d,a,n,Q=s[23].trackTitle+"",i,v,c,b=s[23].artistNames.join(", ")+"",V,H,w,x,y,U,N,O=be(s[23].stats.totalRevenue)+"",P,ae,$,I=ve(s[23].stats.totalStreams)+"",B,F,T,M=ve(s[23].stats.totalSales)+"",D,re,A,S,C,u=s[23].releaseTitle&&Ie(s);y=new Fe({props:{reports:s[23].reports,metric:s[0],height:50,showLabels:!1}});function G(_,p){return _[23].trend!==void 0?et:Ze}let W=G(s),q=W(s);return{c(){e=h("div"),t=h("div"),o=ee(l),d=R(),a=h("div"),n=h("div"),i=ee(Q),v=R(),c=h("div"),V=ee(b),H=R(),u&&u.c(),w=R(),x=h("div"),Se(y.$$.fragment),U=R(),N=h("div"),P=ee(O),ae=R(),$=h("div"),B=ee(I),F=R(),T=h("div"),D=ee(M),re=R(),A=h("div"),q.c(),S=R(),this.h()},l(_){e=f(_,"DIV",{class:!0});var p=L(e);t=f(p,"DIV",{class:!0});var g=L(t);o=Z(g,l),g.forEach(m),d=j(p),a=f(p,"DIV",{class:!0});var E=L(a);n=f(E,"DIV",{class:!0});var X=L(n);i=Z(X,Q),X.forEach(m),v=j(E),c=f(E,"DIV",{class:!0});var z=L(c);V=Z(z,b),H=j(z),u&&u.l(z),z.forEach(m),E.forEach(m),w=j(p),x=f(p,"DIV",{class:!0});var se=L(x);Pe(y.$$.fragment,se),se.forEach(m),U=j(p),N=f(p,"DIV",{class:!0});var le=L(N);P=Z(le,O),le.forEach(m),ae=j(p),$=f(p,"DIV",{class:!0});var oe=L($);B=Z(oe,I),oe.forEach(m),F=j(p),T=f(p,"DIV",{class:!0});var he=L(T);D=Z(he,M),he.forEach(m),re=j(p),A=f(p,"DIV",{class:!0});var pe=L(A);q.l(pe),pe.forEach(m),S=j(p),p.forEach(m),this.h()},h(){k(t,"class","col-rank svelte-1nk160g"),k(n,"class","track-title svelte-1nk160g"),k(c,"class","track-meta svelte-1nk160g"),k(a,"class","col-track svelte-1nk160g"),k(x,"class","col-chart svelte-1nk160g"),k(N,"class","col-revenue svelte-1nk160g"),k($,"class","col-streams svelte-1nk160g"),k(T,"class","col-sales svelte-1nk160g"),k(A,"class","col-trend svelte-1nk160g"),k(e,"class","table-row svelte-1nk160g")},m(_,p){J(_,e,p),r(e,t),r(t,o),r(e,d),r(e,a),r(a,n),r(n,i),r(a,v),r(a,c),r(c,V),r(c,H),u&&u.m(c,null),r(e,w),r(e,x),Ne(y,x,null),r(e,U),r(e,N),r(N,P),r(e,ae),r(e,$),r($,B),r(e,F),r(e,T),r(T,D),r(e,re),r(e,A),q.m(A,null),r(e,S),C=!0},p(_,p){(!C||p&16)&&Q!==(Q=_[23].trackTitle+"")&&ne(i,Q),(!C||p&16)&&b!==(b=_[23].artistNames.join(", ")+"")&&ne(V,b),_[23].releaseTitle?u?u.p(_,p):(u=Ie(_),u.c(),u.m(c,null)):u&&(u.d(1),u=null);const g={};p&16&&(g.reports=_[23].reports),p&1&&(g.metric=_[0]),y.$set(g),(!C||p&16)&&O!==(O=be(_[23].stats.totalRevenue)+"")&&ne(P,O),(!C||p&16)&&I!==(I=ve(_[23].stats.totalStreams)+"")&&ne(B,I),(!C||p&16)&&M!==(M=ve(_[23].stats.totalSales)+"")&&ne(D,M),W===(W=G(_))&&q?q.p(_,p):(q.d(1),q=W(_),q&&(q.c(),q.m(A,null)))},i(_){C||(ie(y.$$.fragment,_),C=!0)},o(_){ce(y.$$.fragment,_),C=!1},d(_){_&&m(e),u&&u.d(),Ee(y),q.d()}}}function tt(s){let e,t,l,o,d,a,n="Performance by Track",Q,i,v,c,b,V,H="Last 7 days",w,x="Last 30 days",y,U="Last 90 days",N,O="Last 6 months",P,ae="Last year",$,I,B,F="Sort by Revenue",T,M="Sort by Streams",D,re="Sort by Sales",A,S,C,u,G,W;o=new Je({props:{style:"hollow",color:"gray",$$slots:{default:[Ge]},$$scope:{ctx:s}}}),o.$on("clicked",s[19]);const q=[Ye,Xe,We],_=[];function p(g,E){return g[3]?0:g[4].length===0?1:2}return S=p(s),C=_[S]=q[S](s),{c(){e=h("div"),t=h("div"),l=h("div"),Se(o.$$.fragment),d=R(),a=h("h1"),a.textContent=n,Q=R(),i=h("div"),v=h("input"),c=R(),b=h("select"),V=h("option"),V.textContent=H,w=h("option"),w.textContent=x,y=h("option"),y.textContent=U,N=h("option"),N.textContent=O,P=h("option"),P.textContent=ae,$=R(),I=h("select"),B=h("option"),B.textContent=F,T=h("option"),T.textContent=M,D=h("option"),D.textContent=re,A=R(),C.c(),this.h()},l(g){e=f(g,"DIV",{class:!0});var E=L(e);t=f(E,"DIV",{class:!0});var X=L(t);l=f(X,"DIV",{class:!0});var z=L(l);Pe(o.$$.fragment,z),d=j(z),a=f(z,"H1",{class:!0,"data-svelte-h":!0}),K(a)!=="svelte-1yzwlms"&&(a.textContent=n),z.forEach(m),Q=j(X),i=f(X,"DIV",{class:!0});var se=L(i);v=f(se,"INPUT",{type:!0,placeholder:!0,class:!0}),c=j(se),b=f(se,"SELECT",{class:!0});var le=L(b);V=f(le,"OPTION",{"data-svelte-h":!0}),K(V)!=="svelte-12vykyh"&&(V.textContent=H),w=f(le,"OPTION",{"data-svelte-h":!0}),K(w)!=="svelte-rt445"&&(w.textContent=x),y=f(le,"OPTION",{"data-svelte-h":!0}),K(y)!=="svelte-hz9j5l"&&(y.textContent=U),N=f(le,"OPTION",{"data-svelte-h":!0}),K(N)!=="svelte-1rmvjpo"&&(N.textContent=O),P=f(le,"OPTION",{"data-svelte-h":!0}),K(P)!=="svelte-h7qlg3"&&(P.textContent=ae),le.forEach(m),$=j(se),I=f(se,"SELECT",{class:!0});var oe=L(I);B=f(oe,"OPTION",{"data-svelte-h":!0}),K(B)!=="svelte-1j5b5ph"&&(B.textContent=F),T=f(oe,"OPTION",{"data-svelte-h":!0}),K(T)!=="svelte-7s6kvz"&&(T.textContent=M),D=f(oe,"OPTION",{"data-svelte-h":!0}),K(D)!=="svelte-1kwgtud"&&(D.textContent=re),oe.forEach(m),se.forEach(m),X.forEach(m),A=j(E),C.l(E),E.forEach(m),this.h()},h(){k(a,"class","svelte-1nk160g"),k(l,"class","header-left svelte-1nk160g"),k(v,"type","text"),k(v,"placeholder","Search tracks..."),k(v,"class","search-input svelte-1nk160g"),V.__value=7,Y(V,V.__value),w.__value=30,Y(w,w.__value),y.__value=90,Y(y,y.__value),N.__value=180,Y(N,N.__value),P.__value=365,Y(P,P.__value),k(b,"class","date-range-select svelte-1nk160g"),s[1]===void 0&&me(()=>s[21].call(b)),B.__value="revenue",Y(B,B.__value),T.__value="streams",Y(T,T.__value),D.__value="sales",Y(D,D.__value),k(I,"class","metric-select svelte-1nk160g"),s[0]===void 0&&me(()=>s[22].call(I)),k(i,"class","header-controls svelte-1nk160g"),k(t,"class","page-header svelte-1nk160g"),k(e,"class","detail-page svelte-1nk160g")},m(g,E){J(g,e,E),r(e,t),r(t,l),Ne(o,l,null),r(l,d),r(l,a),r(t,Q),r(t,i),r(i,v),Y(v,s[2]),r(i,c),r(i,b),r(b,V),r(b,w),r(b,y),r(b,N),r(b,P),ue(b,s[1],!0),r(i,$),r(i,I),r(I,B),r(I,T),r(I,D),ue(I,s[0],!0),r(e,A),_[S].m(e,null),u=!0,G||(W=[_e(v,"input",s[20]),_e(b,"change",s[21]),_e(I,"change",s[22])],G=!0)},p(g,[E]){const X={};E&67108864&&(X.$$scope={dirty:E,ctx:g}),o.$set(X),E&4&&v.value!==g[2]&&Y(v,g[2]),E&2&&ue(b,g[1]),E&1&&ue(I,g[0]);let z=S;S=p(g),S===z?_[S].p(g,E):(Qe(),ce(_[z],1,1,()=>{_[z]=null}),Le(),C=_[S],C?C.p(g,E):(C=_[S]=q[S](g),C.c()),ie(C,1),C.m(e,null))},i(g){u||(ie(o.$$.fragment,g),ie(C),u=!0)},o(g){ce(o.$$.fragment,g),ce(C),u=!1},d(g){g&&m(e),Ee(o),_[S].d(),G=!1,we(W)}}}function De(s){return s?s>=0?"trend-positive":"trend-negative":""}function st(s,e,t){let l,o,d,a,n,Q,i,v,c,b,V,H,w=te,x=()=>(w(),w=de(i,u=>t(14,H=u)),i),y,U=te,N=()=>(U(),U=de(n,u=>t(15,y=u)),n),O,P=te,ae=()=>(P(),P=de(a,u=>t(16,O=u)),a),$,I=te,B=()=>(I(),I=de(d,u=>t(17,$=u)),d),F;Oe(s,je,u=>t(18,F=u)),s.$$.on_destroy.push(()=>w()),s.$$.on_destroy.push(()=>U()),s.$$.on_destroy.push(()=>P()),s.$$.on_destroy.push(()=>I());let T="revenue",M=30,D="";const re=()=>Ue("/labels/finances");function A(){D=this.value,t(2,D)}function S(){M=ge(this),t(1,M)}function C(){T=ge(this),t(0,T)}return s.$$.update=()=>{s.$$.dirty&262144&&t(12,l=(F==null?void 0:F.id)||""),s.$$.dirty&2&&t(13,o=Me(M)),s.$$.dirty&12288&&B(t(8,d=Ae(l,o))),s.$$.dirty&4096&&ae(t(7,a=fe({queryKey:["tracks","label",l],queryFn:()=>He(l),enabled:!!l}))),s.$$.dirty&4096&&N(t(6,n=fe({queryKey:["releases","label",l],queryFn:()=>xe(l),enabled:!!l}))),s.$$.dirty&65536&&t(11,Q=O.data?Array.from(new Set(O.data.flatMap(u=>u.artistId))):[]),s.$$.dirty&2048&&x(t(5,i=fe({queryKey:["artists","byIds",Q.sort().join(",")],queryFn:()=>Re(Q),enabled:Q.length>0}))),s.$$.dirty&16384&&t(10,v=new Map((H.data||[]).map(u=>[u.id,{id:u.id,name:`${u.firstName} ${u.lastName}`}]))),s.$$.dirty&230401&&t(9,c=$.data&&O.data&&y.data?ze(Ke($.data,O.data,y.data,v),T):[]),s.$$.dirty&516&&t(4,b=c.filter(u=>{var W;if(!D)return!0;const G=D.toLowerCase();return u.trackTitle.toLowerCase().includes(G)||u.artistNames.some(q=>q.toLowerCase().includes(G))||((W=u.releaseTitle)==null?void 0:W.toLowerCase().includes(G))})),s.$$.dirty&245760&&t(3,V=$.isLoading||O.isLoading||y.isLoading||H.isLoading)},[T,M,D,V,b,i,n,a,d,c,v,Q,l,o,H,y,O,$,F,re,A,S,C]}class dt extends Be{constructor(e){super(),qe(this,e,st,tt,Ve,{})}}export{dt as component};
