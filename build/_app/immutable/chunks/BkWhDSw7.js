import{w as P}from"./15_8pxf_.js";import{s as E,B as x,d as k,C as B,D as U,E as N,l as g,i as v,q as A,c as F,e as J,h as I,F as W,f as L,t as D}from"./CukiabJc.js";import{S as q,i as M,t as R,a as z}from"./BWg-T3m7.js";const G=P(null);function tt(t){G.update(e=>e&&{...e,bankroll:e.bankroll+t})}const d="http://localhost:5122";class H extends Error{constructor(e){super(e.message),this.errorResponse=e,this.name="TaskCreationError"}}async function u(t,e){const a=t.startsWith("http")?t:`${d}${t}`,s=await fetch(a,e);if(!s.ok)throw new Error(`API error: ${s.statusText}`);return s.json()}async function et(t){return u("/api/v1/players",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}async function at(t){return u(`/api/v1/players/firebase/${t}`)}async function K(t){return u(`/api/v1/rap-labels/${t}`)}async function st(t){return u("/api/v1/rap-labels",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)})}async function rt(t){return t.length===0?[]:await Promise.all(t.map(a=>K(a)))}async function nt(){return u("/api/v1/scouting-scopes")}async function ot(t){const e=`${d}/api/v1/tasks/scouting`,a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await a.json();if(!a.ok||"code"in s&&"message"in s)throw new H(s);return s}async function it(t){const e=`${d}/api/v1/tasks/scouting/predict-cost`,a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error(`Failed to predict scouting cost: ${a.statusText}`);return a.json()}async function lt(t){const e=`${d}/api/v1/tasks/sign-artist-contract/predict-cost`,a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)});if(!a.ok)throw new Error(`Failed to predict sign-artist contract cost: ${a.statusText}`);return a.json()}async function ct(t){const e=`${d}/api/v1/tasks/sign-artist-contract`,a=await fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}),s=await a.json();if(!a.ok)throw new Error(`Failed to create sign-artist contract task: ${a.statusText}`);return s}async function ut(t){const e=`${d}/api/v1/rap-labels/${t}/tasks`,a=await fetch(e);if(!a.ok)throw new Error(`Failed to fetch label tasks: ${a.statusText}`);const s=await a.json(),l=a.headers.get("x-server-time")||new Date().toISOString();return{tasks:s,serverTime:l}}async function ft(t){return u(`/api/v1/tasks/${t}/claim`,{method:"PUT",headers:{"Content-Type":"application/json"}})}async function dt(t){if(t.length===0)return[];const e=t.join(",");return u(`/api/v1/artists/by-ids?ids=${e}`)}function Q(t){let e;return{c(){e=D("Button")},l(a){e=L(a,"Button")},m(a,s){v(a,e,s)},d(a){a&&k(e)}}}function V(t){let e,a,s,l,y;const f=t[15].default,c=x(f,t,t[14],null),o=c||Q();return{c(){e=I("button"),o&&o.c(),this.h()},l(r){e=F(r,"BUTTON",{class:!0,"aria-label":!0,type:!0});var i=J(e);o&&o.l(i),i.forEach(k),this.h()},h(){g(e,"class",a=t[7]+" "+t[5]+" "+t[4]+" "+t[3]+" "+t[6]+" "+t[0]+" uppercase font-normal select-none"),e.disabled=t[1],g(e,"aria-label",t[2]),g(e,"type","button")},m(r,i){v(r,e,i),o&&o.m(e,null),s=!0,l||(y=A(e,"click",t[8]),l=!0)},p(r,[i]){c&&c.p&&(!s||i&16384)&&B(c,f,r,r[14],s?N(f,r[14],i,null):U(r[14]),null),(!s||i&249&&a!==(a=r[7]+" "+r[5]+" "+r[4]+" "+r[3]+" "+r[6]+" "+r[0]+" uppercase font-normal select-none"))&&g(e,"class",a),(!s||i&2)&&(e.disabled=r[1]),(!s||i&4)&&g(e,"aria-label",r[2])},i(r){s||(z(o,r),s=!0)},o(r){R(o,r),s=!1},d(r){r&&k(e),o&&o.d(r),l=!1,y()}}}function X(t,e,a){let s,l,y,f,c,o,{$$slots:r={},$$scope:i}=e,{class:_=""}=e,{color:b="indigo"}=e,{style:m="normal"}=e,{altText:w=""}=e,{disabled:p=!1}=e,{loading:h=!1}=e,{fullWidth:T=!1}=e;const j=W();function O(){!p&&!h&&j("clicked")}const C={primary:"bg-primary-500 text-white hover:bg-primary-600 border-primary-600",secondary:"bg-secondary-500 text-white hover:bg-secondary-600 border-secondary-600",gray:"bg-gray-600 text-white hover:bg-gray-700 border-gray-600"},S={primary:"text-gray-500 border-gray-500 hover:border-primary-400 hover:text-primary-500",secondary:"text-gray-500 border-gray-500 hover:border-secondary-400 hover:text-secondary-500",gray:"text-gray-800 border-gray-300 hover:border-gray-400 hover:bg-gray-50"};return t.$$set=n=>{"class"in n&&a(0,_=n.class),"color"in n&&a(9,b=n.color),"style"in n&&a(10,m=n.style),"altText"in n&&a(11,w=n.altText),"disabled"in n&&a(1,p=n.disabled),"loading"in n&&a(12,h=n.loading),"fullWidth"in n&&a(13,T=n.fullWidth),"$$scope"in n&&a(14,i=n.$$scope)},t.$$.update=()=>{t.$$.dirty&8192&&a(6,l=T?"w-full":""),t.$$.dirty&1536&&a(5,y=m==="normal"?C[b]||C.indigo:S[b]||S.gray),t.$$.dirty&4098&&a(4,f=p||h?"cursor-not-allowed opacity-50":"hover:shadow-lg active:scale-95"),t.$$.dirty&4096&&a(3,c=h?"cursor-wait":""),t.$$.dirty&2048&&a(2,o=w||void 0)},a(7,s="px-6 py-3 lg:px-8 lg:py-4 xl:px-10 xl:py-3 rounded-md font-semibold text-base lg:text-lg xl:text-base border transition-all duration-200"),[_,p,o,c,f,y,l,s,O,b,m,w,h,T,i,r]}class yt extends q{constructor(e){super(),M(this,e,X,V,E,{class:0,color:9,style:10,altText:11,disabled:1,loading:12,fullWidth:13})}}export{yt as B,H as T,rt as a,et as b,st as c,ft as d,dt as e,ut as f,at as g,nt as h,ot as i,lt as j,ct as k,G as l,it as p,tt as u};
